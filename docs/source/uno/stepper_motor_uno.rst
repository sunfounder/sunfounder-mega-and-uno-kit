.. note::

    ä½ å¥½ï¼Œæ¬¢è¿æ¥åˆ° SunFounder æ ‘è“æ´¾ã€Arduino å’Œ ESP32 çˆ±å¥½è€…ç¤¾åŒºçš„ Facebook é¡µé¢ï¼ä¸å…¶ä»–çˆ±å¥½è€…ä¸€èµ·æ·±å…¥æ¢è®¨æ ‘è“æ´¾ã€Arduino å’Œ ESP32ã€‚

    **ä¸ºä»€ä¹ˆåŠ å…¥ï¼Ÿ**

    - **ä¸“å®¶æ”¯æŒ**: é€šè¿‡æˆ‘ä»¬çš„ç¤¾åŒºå’Œå›¢é˜Ÿçš„å¸®åŠ©è§£å†³å”®åé—®é¢˜å’ŒæŠ€æœ¯æŒ‘æˆ˜ã€‚
    - **å­¦ä¹ ä¸åˆ†äº«**: äº¤æµæŠ€å·§å’Œæ•™ç¨‹ï¼Œæå‡ä½ çš„æŠ€èƒ½ã€‚
    - **ç‹¬å®¶é¢„è§ˆ**: æå‰äº†è§£æ–°äº§å“å‘å¸ƒå’Œé¢„å‘Šã€‚
    - **ç‰¹åˆ«æŠ˜æ‰£**: å°Šäº«æˆ‘ä»¬æœ€æ–°äº§å“çš„ä¸“å±æŠ˜æ‰£ã€‚
    - **èŠ‚æ—¥ä¿ƒé”€å’Œèµ å“**: å‚ä¸èµ å“æ´»åŠ¨å’ŒèŠ‚æ—¥ä¿ƒé”€ã€‚

    ğŸ‘‰ å‡†å¤‡å¥½ä¸æˆ‘ä»¬ä¸€èµ·æ¢ç´¢å’Œåˆ›é€ äº†å—ï¼Ÿç‚¹å‡» [|link_sf_facebook|] åŠ å…¥æˆ‘ä»¬å§ï¼

.. _stepper_uno:

ç¬¬ 19 è¯¾ æ­¥è¿›ç”µæœº
=========================

ä»‹ç»
--------------------

æ­¥è¿›ç”µæœºç”±äºå…¶ç‹¬ç‰¹çš„è®¾è®¡ï¼Œå¯ä»¥åœ¨æ²¡æœ‰ä»»ä½•åé¦ˆæœºåˆ¶çš„æƒ…å†µä¸‹è¿›è¡Œé«˜ç²¾åº¦æ§åˆ¶ã€‚æ­¥è¿›ç”µæœºçš„è½´ä¸Šè£…æœ‰ä¸€ç³»åˆ—ç£é“ï¼Œç”±ä¸€ç³»åˆ—ç”µç£çº¿åœˆæ§åˆ¶ï¼Œè¿™äº›çº¿åœˆæŒ‰ç‰¹å®šé¡ºåºå¸¦æ­£è´Ÿç”µï¼Œä»¥å°â€œæ­¥â€ç²¾ç¡®åœ°å‘å‰æˆ–å‘åç§»åŠ¨ã€‚


æ‰€éœ€å™¨ä»¶
-------------

.. image:: media_uno/uno23.png
    :align: center

* :ref:`SunFounder R3æ¿`
* :ref:`é¢åŒ…æ¿`
* :ref:`è·³çº¿`
* :ref:`ç”µä½å™¨`
* :ref:`æ­¥è¿›ç”µæœº`

åŸç†å›¾
---------------------

åŸç†å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š

.. image:: media_uno/image172.png



å®éªŒæ­¥éª¤
---------------------------

**ç¬¬ 1 æ­¥**ï¼šæ­å»ºç”µè·¯ã€‚


==================== ===
æ­¥è¿›ç”µæœºé©±åŠ¨æ¿         R3æ¿
IN1                  2
IN2                  4
IN3                  3
IN4                  5
GND                  GND
VCC                  5v
==================== ===

.. image:: media_uno/image173.png
   :align: center

**ç¬¬ 2 æ­¥**ï¼šæ‰“å¼€ä»£ç æ–‡ä»¶ ``Lesson_19_Stepper_Motor.ino``ã€‚

**ç¬¬ 3 æ­¥**ï¼šé€‰æ‹© **å¼€å‘æ¿** å’Œ **ç«¯å£**ã€‚

**ç¬¬ 4 æ­¥**ï¼šç‚¹å‡» **ä¸Šä¼ ** æŒ‰é’®æ¥ä¸Šä¼ ä»£ç ã€‚

ç°åœ¨ï¼Œä½ åº”è¯¥çœ‹åˆ°æ­¥è¿›ç”µæœºçš„æ‘‡è‡‚é¡ºæ—¶é’ˆå’Œé€†æ—¶é’ˆäº¤æ›¿æ—‹è½¬ã€‚

.. image:: media_uno/image174.jpeg
   :align: center

ä»£ç 
--------

.. raw:: html

   <iframe src=https://create.arduino.cc/editor/sunfounder01/2e8012d2-0d5d-4b38-b63e-f0b792ed10b1/preview?embed style="height:510px;width:100%;margin:10px 0" frameborder=0></iframe>

ä»£ç åˆ†æ
-----------------

**åˆå§‹åŒ–æ­¥è¿›ç”µæœº**

.. code-block:: Arduino

    #include <Stepper.h> //include a head file
    //the steps of a circle
    #define STEPS 2048
    //set steps and the connection with MCU
    Stepper stepper(STEPS, 2, 3, 4, 5);
    //available to store previous value
    int previous = 0;

åŒ…å«å¤´æ–‡ä»¶ ``Stepper.h``ï¼Œå°†æ­¥é•¿è®¾ç½®ä¸º 100ï¼Œç„¶åä½¿ç”¨å‡½æ•° ``stepper()`` åˆå§‹åŒ–æ­¥è¿›ç”µæœºã€‚

* ``Stepper(steps, pin1, pin2, pin3, pin4)``ï¼šæ­¤å‡½æ•°åˆ›å»º ``Stepper`` ç±»çš„æ–°å®ä¾‹ï¼Œä»£è¡¨è¿æ¥åˆ° Arduino æ¿çš„ç‰¹å®šæ­¥è¿›ç”µæœºã€‚
* ``steps``ï¼šç”µæœºæ—‹è½¬ä¸€åœˆçš„æ­¥æ•°ã€‚å¦‚æœä½ çš„ç”µæœºç»™å‡ºæ¯æ­¥çš„åº¦æ•°ï¼Œå°†è¯¥æ•°å­—é™¤ä»¥ 360 ä»¥è·å¾—æ­¥æ•°ï¼ˆä¾‹å¦‚ 360 / 3.6 ç»™å‡º 100 æ­¥ï¼Œæ•´æ•°å‹ï¼‰ã€‚

**setSpeed()å‡½æ•°**

.. code-block:: Arduino

    //speed of per minute
    stepper.setSpeed(15); //set the motor speed in rotations per minute(RPMs)

* ``setSpeed(rpms)``ï¼šä»¥æ¯åˆ†é’Ÿè½¬æ•° (RPMs) ä¸ºå•ä½è®¾ç½®ç”µæœºé€Ÿåº¦ã€‚æ­¤å‡½æ•°ä¸ä¼šä½¿ç”µæœºè½¬åŠ¨ï¼Œåªæ˜¯è®¾ç½®è°ƒç”¨ ``step()`` æ—¶çš„é€Ÿåº¦ã€‚
* ``rpms``ï¼šç”µæœºæ¯åˆ†é’Ÿæ—‹è½¬çš„é€Ÿåº¦ - ä¸€ä¸ªæ­£æ•°ï¼ˆé•¿å‹ï¼‰ã€‚

**ä¸»ç¨‹åº**

.. code-block:: Arduino

    void loop()
    { 
    //get analog value
    int val = analogRead(0); //Read the value of the potentiometer
    //current reading minus the reading of history
    stepper.step(val - previous); //Turn the motor in val-previous steps
    //store as prevous value
    previous = val; //the value of potentiometer assignment to variable previous
    }

ä¸»ç¨‹åºæ˜¯å…ˆè¯»å–A0çš„å€¼ï¼Œç„¶åæ ¹æ®A0çš„å€¼æ¥è®¾ç½®æ­¥è¿›ç”µæœºè½¬åŠ¨çš„æ­¥æ•°ã€‚


* ``step(steps)``ï¼šä»¥ç‰¹å®šçš„æ­¥æ•°è½¬åŠ¨ç”µæœºï¼Œé€Ÿåº¦ç”±æœ€è¿‘è°ƒç”¨ ``setSpeed()`` ç¡®å®šã€‚è¿™ä¸ªåŠŸèƒ½æ˜¯é˜»å¡çš„ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒå°†ç­‰åˆ°ç”µæœºå®Œæˆç§»åŠ¨åæ‰èƒ½å°†æ§åˆ¶æƒä¼ é€’ç»™ä»£ç ä¸­çš„ä¸‹ä¸€è¡Œã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ å°†é€Ÿåº¦è®¾ç½®ä¸º 1 RPM å¹¶åœ¨ 100 æ­¥ç”µæœºä¸Šè°ƒç”¨ ``step(100)``ï¼Œåˆ™æ­¤å‡½æ•°å°†éœ€è¦æ•´æ•´ä¸€åˆ†é’Ÿæ‰èƒ½è¿è¡Œã€‚ä¸ºäº†æ›´å¥½åœ°æ§åˆ¶ï¼Œä¿æŒé«˜é€Ÿå¹¶ä¸”æ¯æ¬¡è°ƒç”¨ ``step()`` æ—¶åªèµ°å‡ æ­¥ã€‚
* ``steps``ï¼šè½¬åŠ¨ç”µæœºçš„æ­¥æ•° - æ­£å‘è½¬åŠ¨ä¸€ä¸ªæ–¹å‘ï¼Œè´Ÿå‘è½¬åŠ¨å¦ä¸€ä¸ªï¼ˆintï¼‰ã€‚
